{
  "properties":{
    "elasticsearch":{
      "description":"Elasticsearch specific configuration properties",
      "properties":{
        "framework-name":{
          "default":"elasticsearch",
          "description":"The framework name.",
          "type":"string"
        },
        "failover-timeout":{
          "default":"2592000.0",
          "description":"Framework fatal timeout, Mesos will kill all tasks and restart cluster [DANGER]",
          "type":"string"
        },
        "zookeeper-mesos-timeout":{
          "default":"20000",
          "description":"The timeout for connecting to zookeeper for Mesos (ms).",
          "type":"string"
        },
        "port":{
          "type": "integer",
          "minimum": 0,
          "default": 0,
          "description":"The port number of the ES-Mesos management front-end. Defaults to 0 (auto-assign)."
        },
        "http-port":{
          "type": "integer",
          "minimum": 0,
          "default": 0,
          "description":"The HTTP port number of the Elasticsearch Master/Client instances. Defaults to 0 (auto-assign)."
        },
        "rpc-port":{
          "type": "integer",
          "minimum": 0,
          "default": 0,
          "description":"The RPC port number of the Elasticsearch Master/Client instances. Defaults to 0 (auto-assign)."
        },
        "force-pull-image":{
          "default":true,
          "description":"Forces docker to re-pull the image.",
          "type":"boolean"
        },
        "cluster-type":{
          "description":"Should all nodes be identical (WORKER) or should we launch Master / Data / Client nodes (TIER) ?",
          "default":"WORKER",
          "enum":[ "WORKER", "TIER" ],
          "type":"string"
        },
        "executor":{
          "properties":{
            "ram":{
              "default":"2048",
              "description":"The amount of ram that Mesos shall give give to the executors.",
              "type":"string"
            },
            "cpu":{
              "default":"1.0",
              "description":"The amount of CPU resource to allocate to the elasticsearch instance.",
              "type":"string"
            },
            "disk":{
              "default":"1024",
              "description":"The amount of Disk resource to allocate to the elasticsearch instance (MB).",
              "type":"string"
            },
            "instances":{
              "default":"4",
              "description":"The number of elasticsearch executor to be instantiated.",
              "type":"string"
            },
            "cluster-name":{
              "description":"Name of the elasticsearch cluster (defaults to framework-name)",
              "type":"string"
            },
            "settings-location":{
              "default":"DEFAULT",
              "description":"URI to ES yml settings file. If file is copied to all slaves, the file must be in /tmp/config. E.g. 'file:/tmp/config/elasticsearch.yml', 'http://webserver.com/elasticsearch.yml'",
              "type":"string"
            },
            "health-delay":{
              "default":"1000",
              "description":"The delay between executor healthcheck requests (ms).",
              "type":"string"
            },
            "name":{
              "description":"The name given to the executor task. (defaults to frameworkname-type)",
              "type":"string"
            },
            "image":{
              "description":"Which ElasticSearch Docker Image to use",
              "default":"docker.io:elasticsearch:1.7.5",
              "type":"string"
            },
            "timeout":{
              "default":"60000",
              "description":"The maximum executor healthcheck timeout (ms). Must be greater than elasticsearch.executor.healthdelay. Will start new executor after this length of time.",
              "type":"string"
            },
            "storage-driver":{
              "default":"local",
              "description":"Optional docker storage driver",
              "type":"string"
            }
          },
          "required":[
            "ram",
            "cpu",
            "disk",
            "instances",
            "settings-location",
            "health-delay",
            "storage-driver",
            "timeout"
          ],
          "type":"object"
        },
        "scheduler":{
          "properties":{
            "cpu":{
              "default":"0.2",
              "description":"The amount of CPU that Mesos shall allocate to the scheduler.",
              "type":"string"
            },
            "ram":{
              "default":"512",
              "description":"The amount of RAM that Mesos shall allocate to the scheduler.",
              "type":"string"
            },
            "disk":{
              "default":"32",
              "description":"The amount of Disk that Mesos shall allocate to the scheduler.",
              "type":"string"
            },
            "instances":{
              "default":"1",
              "description":"The number of scheduler instances.",
              "type":"string"
            },
            "java-heap":{
              "default":"-Xms128m -Xmx256m",
              "description":"The java heap space environmental variables to pass to the scheduler",
              "type":"string"
            },
            "healthcheck-interval":{
              "default":"30",
              "description":"The delay between scheduler healthcheck requests (ms).",
              "type":"string"
            },
            "healthcheck-timeout":{
              "default":"10",
              "description":"The maximum scheduler healthcheck timeout. Will start new scheduler after this length of time.",
              "type":"string"
            },
            "healthcheck-startdelay":{
              "default":"300",
              "description":"Time to wait for service to startup before healthcheck becomes active",
              "type":"string"
            },
            "healthcheck-maxfail":{
              "default":"0",
              "description":"Number of failures allowed before restarting service",
              "type":"string"
            }
          },
          "required":[
            "cpu",
            "ram",
            "instances",
            "java-heap"
          ],
          "type":"object"
        }
      },
      "required":[
        "framework-name",
        "failover-timeout",
        "zookeeper-mesos-timeout",
        "force-pull-image",
        "executor",
        "scheduler"
      ],
      "type":"object"
    },
    "mesos":{
      "description":"Mesos specific configuration properties",
      "properties":{
        "master":{
          "default":"zk://master.mesos:2181/mesos",
          "description":"The URL of the Mesos master. This should point to the Mesos ZNode on the Zookeeper machine.",
          "type":"string"
        }
      },
      "required":[
        "master"
      ],
      "type":"object"
    }
  },
  "required":[
    "mesos",
    "elasticsearch"
  ]
}
